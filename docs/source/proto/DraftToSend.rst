DraftToSend
===========

Структура данных ``DraftToSend`` предназначена для формирования команды на отправку сообщения, ранее сохраненного как черновик.

.. code-block:: protobuf

    message DraftToSend {
        required string BoxId = 1;
        required string DraftId = 2;
        optional string ToBoxId = 3;
        optional string ToDepartmentId = 4;
        repeated DocumentSenderSignature DocumentSignatures = 5;
    }
        

- ``BoxId`` — идентификатор ящика отправителя сообщения, в котором сохранен черновик.

- ``DraftId`` — идентификатор черновика, подлежащего модификации, проверке и отправке.

- ``ToBoxId`` — идентификатор ящика получателя сообщения. Должен отличаться от идентификатора ящика отправителя. Может отсутствовать, если черновик уже содержит идентификатор ящика получателя. Для внутреннего документа (``IsInternal = true``) этот идентификатор должен отсутствовать или содержать пустую строку.

- ``ToDepartmentId`` — идентификатор подразделения в организации получателя, в которое будут отправлены все документы из сообщения. Может отсутствовать, в этом случае документы будут отправлены в головное подразделение.

- ``DocumentSignatures`` — список подписей к документам, ранее загруженным в обрабатываемый черновик. Каждая подпись представлена структурой :doc:`DocumentSenderSignature`.

При помощи структуры ``DraftToSend`` можно добавить к сообщению-черновику подписи ЭП, которые могли отсутствовать на момент формирования черновика. 

Вносить изменения в черновик можно, если черновик не был защищен от модификаций: флаг ``LockDraft`` структуры :doc:`MessageToPost`.

Отправка черновика выполняется вызовом метода :doc:`../http/SendDraft`.