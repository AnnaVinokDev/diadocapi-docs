UnsignedContent
===============

Структура ``UnsignedContent`` предназначена для представления подписанных ЭП данных в отправляемом сообщении.

.. code-block:: protobuf

    message UnsignedContent {
        optional bytes Content = 1;
        optional string NameOnShelf = 2;
    }

- ``Content`` — подписываемые данные (бинарное представление документа). Не заполняется, если заполнено поле ``NameOnShelf``.

- ``NameOnShelf`` — имя файла с подписываемыми данными на «полке документов». Не заполняется, если содержимое подписанного документа размещено в поле ``Content``.

Если размер подписываемого документа меньше 500Кб, его бинарное представление можно разместить в структуре в поле ``Content`` структуры ``UnsignedContent``.

Если размер документа больше, нужно предварительно загрузить документ на «полку документов» с помощью серии вызовов метода :doc:`../http/ShelfUpload`. После загрузки нужно указать имя документа на «полке» в поле ``NameOnShelf`` структуры ``UnsignedContent``.

Сервер может не обработать запрос, содержащий структуры ``SignedContent`` большого размера.

.. note:: Файл весом больше 400 Мб нельзя загрузить на «полку документов».

Ограничения на размер передаваемых документов действуют не только на уровне отдельного документа, но и на уровне запроса к серверу. Если запрос к серверу содержит несколько документов (несколько структур ``UnsignedContent``), то суммарный размер передаваемых в рамках запроса данных не должен превышать 5Мб с учетом передаваемой служебной информации. Мы рекомендуем загружать документы на «полку документов», чтобы повысить устойчивость интеграционного решения.
